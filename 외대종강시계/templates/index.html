<!DOCTYPE html>
<html lang="ko">
<head>
    <!-- 문서 기본 설정 -->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HUFS 종강시계</title>

    <!-- 스타일시트 연결 -->
    <link rel="stylesheet" href="../static/css/main.css">
    
    <!-- Google Fonts: Do Hyeon, Noto Sans KR 폰트 로드 -->
    <link href="https://fonts.googleapis.com/css2?family=Do+Hyeon&family=Noto+Sans+KR:wght@100..900&display=swap" rel="stylesheet">
    
    <!-- JavaScript 파일 연결 (defer 속성으로 HTML 파싱 후 실행) -->
    <script src="{{ url_for('static', filename='js/script.js') }}" defer></script>
</head>

<body class="theme-default">
    <!-- 배경 이미지 전환을 위한 컨테이너 -->
    <div class="background-container">
        <div class="background default"></div>
        <div class="background dark"></div>
    </div>

    <!-- 테마 전환 버튼 (우측 상단) -->
    <div class="theme-buttons">
        <button class="theme-btn" onclick="changeTheme('default')">기본</button>
        <button class="theme-btn" onclick="changeTheme('dark')">다크</button>
    </div>

    <!-- 현재 시간 표시 영역 (좌측 상단) -->
    <p class="current-time-label">현재 시각</p>
    <p id="currentTime">{{ current_time }}</p>

    <!-- 메인 컨테이너 - 종강까지 남은 시간 표시 -->
    <div class="container">
        <p class="period-type">{{ period_type }}</p>
        <p class="timer">
            {{ days }}일 {{ hours }}시간 {{ minutes }}분 {{ seconds }}초
        </p>
    </div>

    <!-- 공지사항 섹션 (좌측 하단 고정) -->
    <div class="notice-container">
        <!-- 공지사항 헤더: 제목, 업데이트 시간, 새로고침 버튼 -->
        <div class="notice-header">
            <h2 class="notice-title">HUFS 공지사항</h2>
            <span class="last-update">{{ last_update }}</span>
            <button class="refresh-btn" onclick="refreshNotices()">새로고침</button>
        </div>
        <!-- 공지사항 테이블: 날짜와 제목 표시 -->
        <table class="notice-table">
            <tbody>
                {% for notice in notices %}
                <tr onclick="window.open('{{ notice.link }}', '_blank')" class="notice-row">
                    <td class="notice-title-cell">
                        <div class="notice-content">
                            <span class="notice-date">{{ notice.date }}</span>
                            <span class="notice-title-text">{{ notice.title }}</span>
                        </div>
                    </td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>

    <!-- JavaScript 파일 연결 (body 끝에서 로드) -->
    <script src="../static/script.js"></script>
</body>
</html>